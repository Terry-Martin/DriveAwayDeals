{% extends "base.html" %}

{% block content %}
<h1>Delete Staff</h1>
<p>Are you sure you want to delete "{{ staff.first_name}}"?</p>
<form method="post">
    {% csrf_token %}
    <button type="submit" class="btn btn-danger">Confirm</button>
    <a href="{% url 'staff_list' %}" class="btn btn-secondary">Cancel</a>
</form>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Prevent form submission with JavaScript confirmation
        const form = document.getElementById('deleteForm');
        form.addEventListener('submit', function(event) {
            // Ask for confirmation before submitting the form
            const userConfirmed = confirm("Are you sure you want to delete this staff member?");
            if (!userConfirmed) {
                event.preventDefault(); // Prevent form submission if not confirmed
            }
        });
    });
</script>
{% endblock %}